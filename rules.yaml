# В больничном дворе стоит небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли.

# Крыша на нем ржавая, труба наполовину обвалилась, ступеньки у крыльца сгнили и поросли травой, а от штукатурки остались одни только следы.

# Передним фасадом обращен он к больнице, задним - глядит в поле, от которого отделяет его серый больничный забор с гвоздями.

# Эти гвозди, обращенные остриями кверху, и забор, и самый флигель имеют тот особый унылый, окаянный вид, какой у нас бывает только у больничных и тюремных построек.

################################################################################
sentence:

# в больничном дворе стоит небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли.
- "{compound_sentence}{sentence_ending !aim}"

# крыша на нем  ржавая,  труба  наполовину обвалилась, ступеньки у крыльца сгнили и поросли  травой,  а  от  штукатурки остались одни только следы.
- "{complex_sentence}{sentence_ending !aim}"

################################################################################
sentence_ending:

- "@{aim=decl}."
- "@{aim=intr}?"
- "@{aim=excl}!"

################################################################################
compound_sentence:

# в больничном дворе стоит небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли.
- "{simple_sentence}"

# крыша на нем  ржавая,  труба  наполовину обвалилась, ступеньки у крыльца сгнили и поросли  травой
- "{simple_sentence}, {compound_sentence}"

# ?
- "{simple_sentence}, и {compound_sentence}"

################################################################################
complex_sentence:

- "@{rel=opos}{compound_sentence}, а {compound_sentence}"

################################################################################
simple_sentence:

# в больничном дворе стоит небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли
- "{predicate_groups number=@1 tense=pres} {subject_groups number=@1}"

################################################################################
predicate_groups:

# в больничном дворе стоит
- "{predicate_group !number !gender !tense}"

################################################################################
predicate_group:

# в больничном дворе стоит
- "{adverbial_modifier} {pos=verb !number !gender !tense}"

################################################################################
adverbial_modifier:

# в больничном дворе
- "@{rel=in}в {object_groups case=loct}"

################################################################################
object_groups:

# больничном дворе
- "{object_group !number !case !gender}"

# ?
- "@{number=plur}{object_group !case=@1 !gender=femn}, {object_groups case=@1 gender=femn}"

# репейника, крапивы и дикой конопли
- "@{number=plur}{object_group !case=@1 !gender=masc}, {object_groups case=@1}"

# крапивы и дикой конопли
- "@{number=plur}{object_group !case=@1 !gender=femn} и {object_groups case=@1 gender=femn}"

# ?
- "@{number=plur}{object_group !case=@1 !gender=masc} и {object_groups case=@1}"

################################################################################
object_group:

# крапивы
- "{objects !number=@1 !case=@2 !gender}"

# больничном дворе
- "{attributes number=sing case=@2 gender=@3} {objects !number=sing !case=@2 !gender=@3}"

# ?
- "{attributes number=plur case=@2} {objects !number=plur !case=@2}"

# небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли
- "{attributes number=sing case=@2 gender=@3} {objects !number=sing !case=@2 !gender=@3}, {attributes number=sing case=@2 gender=@3}"

# ?
- "{attributes number=plur case=@2} {objects !number=plur !case=@2}, {attributes number=@1 case=@2}"


################################################################################
attributes:

# больничном
- "{attribute !number !case !gender}"

################################################################################
attribute:

# больничном
- "{pos=adjf !number !case !gender}"

# окруженный целым лесом репейника, крапивы и дикой конопли
- "{participial_phrase !number !case !gender}"

################################################################################
participial_phrase:

# окруженный целым лесом репейника, крапивы и дикой конопли
- "{pos=prtf !number !case !gender} {object_groups case=ablt}"

################################################################################
objects:

# дворе
- "{object !number !case !gender}"

# лесом репейника, крапивы и дикой конопли
- "{object !number !case !gender} {object_groups case=gent}"

# ?
- "@{number=plur}{object !case=@1 !gender=femn}, {objects case=@1 gender=femn}"

# репейника, крапивы
- "@{number=plur}{object !case=@1 !gender=masc}, {objects case=@1}"

# ?
- "@{number=plur}{object !case=@1 !gender=femn} и {objects case=@1 gender=femn}"

# ?
- "@{number=plur}{object !case=@1 !gender=masc} и {objects case=@1}"

################################################################################
object:

# дворе
- "{pos=noun !number !case !gender}"

################################################################################
subject_groups:

# небольшой флигель, окруженный целым лесом репейника, крапивы и дикой конопли.
- "{object_groups !number case=nomn !gender}"